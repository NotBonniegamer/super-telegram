<!DOCTYPE html>
<html>
<head>
    <title>Kundenkommentare verwalten</title>
    <style>
        .review {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
        }
        .hidden {
            display: none;
        }
        .warning {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Kundenkommentare</h1>

    <!-- Passwortbereich -->
    <div id="password-section">
        <label for="password">Admin-Passwort:</label>
        <input type="password" id="password">
        <button onclick="checkPassword()">Login</button>
        <p id="login-warning" class="warning hidden">Falsches Passwort!</p>
    </div>

    <!-- Bereich zum Anzeigen der Kommentare -->
    <div id="review-section" class="hidden">
        <div id="reviews"></div>
    </div>

    <script>
        // Festgelegtes Admin-Passwort
        const adminPassword = "admin123"; // Ändere hier das Passwort

        // Funktion: Bestehende Bewertungen aus dem localStorage laden
        function loadReviews() {
            const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
            const reviewSection = document.getElementById('reviews');
            reviewSection.innerHTML = ''; // Vorhandene Inhalte löschen
            
            // Bewertungen dynamisch hinzufügen
            reviews.forEach((review, index) => {
                const reviewDiv = document.createElement('div');
                reviewDiv.className = 'review';
                reviewDiv.id = `review-${index}`;
                reviewDiv.innerHTML = `
                    <strong>${review.username}:</strong>
                    <p>${review.feedback}</p>
                    <button onclick="deleteComment(${index})">Löschen</button>
                `;
                reviewSection.appendChild(reviewDiv);
            });
        }

        // Funktion: Kommentar löschen
        function deleteComment(index) {
            let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
            reviews.splice(index, 1); // Entfernt die Bewertung aus dem Array
            localStorage.setItem('reviews', JSON.stringify(reviews)); // Speichert das Array erneut
            loadReviews(); // Aktualisiert die angezeigten Bewertungen
        }

        // Passwortprüfung
        function checkPassword() {
            const enteredPassword = document.getElementById('password').value;
            const warning = document.getElementById('login-warning');
            if (enteredPassword === adminPassword) {
                document.getElementById('password-section').classList.add('hidden');
                document.getElementById('review-section').classList.remove('hidden');
                loadReviews(); // Bewertungen anzeigen
            } else {
                warning.classList.remove('hidden');
            }
        }

        // Beispiel-Daten beim ersten Laden hinzufügen (falls keine vorhanden sind)
        if (!localStorage.getItem('reviews')) {
            const initialReviews = [
                { username: "Benutzer 1", feedback: "Tolle Erfahrung!" },
                { username: "Benutzer 2", feedback: "Sehr zufrieden!" },
                { username: "Benutzer 3", feedback: "Kann ich nur empfehlen!" },
            ];
            localStorage.setItem('reviews', JSON.stringify(initialReviews));
        }

        // Beim Laden der Seite die Bewertungen anzeigen
        window.onload = loadReviews;
    </script>
</body>
</html>
