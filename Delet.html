<!DOCTYPE html>
<html>
<head>
    <title>Kundenkommentare löschen</title>
    <style>
        .review {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
        }
        .hidden {
            display: none;
        }
        .warning {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Kundenkommentare</h1>

    <!-- Passwortbereich -->
    <div id="password-section">
        <label for="password">Admin-Passwort:</label>
        <input type="password" id="password">
        <button onclick="checkPassword()">Login</button>
        <p id="login-warning" class="warning hidden">Falsches Passwort!</p>
    </div>

    <!-- Kommentarliste -->
    <div id="review-section" class="hidden">
        <div id="reviews"></div>
    </div>

    <script>
        // Festgelegtes Passwort
        const adminPassword = "admin123"; // Ändere hier das Passwort

        // Funktion: Bestehende Bewertungen laden
        function loadReviews() {
            const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
            const reviewSection = document.getElementById('reviews');
            reviewSection.innerHTML = ''; // Alte Inhalte leeren

            reviews.forEach((review, index) => {
                const reviewDiv = document.createElement('div');
                reviewDiv.className = 'review';
                reviewDiv.id = `review${index}`;
                reviewDiv.innerHTML = `
                    <strong>${review.username}:</strong>
                    <p>${review.feedback}</p>
                    <button onclick="deleteComment(${index})">Löschen</button>
                `;
                reviewSection.appendChild(reviewDiv);
            });
        }

        // Funktion: Neue Bewertung löschen
        function deleteComment(index) {
            let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
            reviews.splice(index, 1); // Entfernt die Bewertung aus dem Array
            localStorage.setItem('reviews', JSON.stringify(reviews)); // Speichert das Array erneut
            loadReviews(); // Kommentare neu laden
        }

        // Passwortprüfung
        function checkPassword() {
            const enteredPassword = document.getElementById('password').value;
            const warning = document.getElementById('login-warning');
            if (enteredPassword === adminPassword) {
                document.getElementById('password-section').classList.add('hidden');
                document.getElementById('review-section').classList.remove('hidden');
                loadReviews(); // Bewertungen anzeigen
            } else {
                warning.classList.remove('hidden');
            }
        }

        // Initial lädt die Bewertungen
        window.onload = loadReviews;
    </script>
</body>
</html>
